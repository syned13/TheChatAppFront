{"remainingRequest":"/home/denys/Documents/Proyectos/TheChatAppFront/node_modules/babel-loader/lib/index.js!/home/denys/Documents/Proyectos/TheChatAppFront/node_modules/eslint-loader/index.js??ref--13-0!/home/denys/Documents/Proyectos/TheChatAppFront/src/store/index.js","dependencies":[{"path":"/home/denys/Documents/Proyectos/TheChatAppFront/src/store/index.js","mtime":1596643505765},{"path":"/home/denys/Documents/Proyectos/TheChatAppFront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/denys/Documents/Proyectos/TheChatAppFront/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/denys/Documents/Proyectos/TheChatAppFront/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvZGVueXMvRG9jdW1lbnRzL1Byb3llY3Rvcy9UaGVDaGF0QXBwRnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBkYXRhIH0gZnJvbSAnLi8uLi9zaGFyZWQvZGF0YSc7ClZ1ZS51c2UoVnVleCk7CnZhciBFdmVudFR5cGVSZWdpc3RyYXRpb24gPSAicmVnaXN0cmF0aW9uIjsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBuaWNrbmFtZTogIiIsCiAgICB1c2VyOiB7CiAgICAgIElEOiAiIiwKICAgICAgbmlja25hbWU6ICIiCiAgICB9LAogICAgd3M6IHVuZGVmaW5lZCwKICAgIG9ubGluZVVzZXJzOiBbXQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXROaWNrbmFtZTogZnVuY3Rpb24gc2V0Tmlja25hbWUoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUudXNlci5uaWNrbmFtZSA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0VXNlcklEOiBmdW5jdGlvbiBzZXRVc2VySUQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUudXNlci5JRCA9IHBheWxvYWQ7CiAgICB9LAogICAgc2V0VXNlcjogZnVuY3Rpb24gc2V0VXNlcihzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS51c2VyID0gcGF5bG9hZDsKICAgIH0sCiAgICBzZXRXczogZnVuY3Rpb24gc2V0V3Moc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUud3MgPSBwYXlsb2FkOwogICAgfSwKICAgIHNldE9ubGluZVVzZXJzOiBmdW5jdGlvbiBzZXRPbmxpbmVVc2VycyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICBzdGF0ZS5vbmxpbmVVc2VycyA9IHBheWxvYWQ7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBzZXROaWNrbmFtZTogZnVuY3Rpb24gc2V0Tmlja25hbWUoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgc3RhdGUuY29tbWl0KCJzZXROaWNrbmFtZSIsIHBheWxvYWQpOwogICAgfSwKICAgIGNsb3NlV3M6IGZ1bmN0aW9uIGNsb3NlV3MoX3JlZikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQsCiAgICAgICAgICBnZXR0ZXJzID0gX3JlZi5nZXR0ZXJzOwogICAgICBnZXR0ZXJzLmdldFdzLmNsb3NlKCk7CiAgICAgIGNvbW1pdCgic2V0V3MiLCB1bmRlZmluZWQpOwogICAgfSwKICAgIHNldFdzOiBmdW5jdGlvbiBzZXRXcyhfcmVmMikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0LAogICAgICAgICAgZ2V0dGVycyA9IF9yZWYyLmdldHRlcnM7CiAgICAgIHZhciB3cyA9IG5ldyBXZWJTb2NrZXQoIndzOi8vMTI3LjAuMC4xOjUwMDAvd3MiKTsKCiAgICAgIHdzLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHZhciBtc2cgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpOwogICAgICAgIGNvbnNvbGUubG9nKGdldHRlcnMuZ2V0Tmlja25hbWUpOwoKICAgICAgICBpZiAobXNnLm1lc3NhZ2VUeXBlID09PSBFdmVudFR5cGVSZWdpc3RyYXRpb24pIHsKICAgICAgICAgIGNvbW1pdCgic2V0VXNlciIsIHsKICAgICAgICAgICAgSUQ6IG1zZy50b0lELAogICAgICAgICAgICBuaWNrbmFtZTogZ2V0dGVycy5nZXROaWNrbmFtZQogICAgICAgICAgfSk7CiAgICAgICAgICBjb21taXQoInNldFVzZXJJRCIsIG1zZy50b0lEKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGdldHRlcnMuZ2V0VXNlcik7CiAgICAgICAgICB2YXIgbmlja25hbWVNZXNzYWdlID0gewogICAgICAgICAgICBmcm9tSUQ6IGdldHRlcnMuZ2V0VXNlci5JRCwKICAgICAgICAgICAgdG9JRDogInNlcnZlciIsCiAgICAgICAgICAgIG1lc3NhZ2VUeXBlOiBFdmVudFR5cGVSZWdpc3RyYXRpb24sCiAgICAgICAgICAgIGJvZHk6IGdldHRlcnMuZ2V0VXNlci5uaWNrbmFtZQogICAgICAgICAgfTsKICAgICAgICAgIGNvbnNvbGUubG9nKG5pY2tuYW1lTWVzc2FnZSk7CiAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KG5pY2tuYW1lTWVzc2FnZSkpOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGNvbW1pdCgic2V0V3MiLCB3cyk7CiAgICB9LAogICAgZ2V0T25saW5lVXNlcnM6IGZ1bmN0aW9uIGdldE9ubGluZVVzZXJzKHN0YXRlKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZ2V0T25saW5lVXNlcnMoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBzdGF0ZS5jb21taXQoInNldE9ubGluZVVzZXJzIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHt9LAogIGdldHRlcnM6IHsKICAgIGdldE5pY2tuYW1lOiBmdW5jdGlvbiBnZXROaWNrbmFtZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlci5uaWNrbmFtZTsKICAgIH0sCiAgICBnZXRVc2VyOiBmdW5jdGlvbiBnZXRVc2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyOwogICAgfSwKICAgIGdldE9ubGluZVVzZXJzOiBmdW5jdGlvbiBnZXRPbmxpbmVVc2VycyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUub25saW5lVXNlcnM7CiAgICB9LAogICAgZ2V0V3M6IGZ1bmN0aW9uIGdldFdzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS53czsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/denys/Documents/Proyectos/TheChatAppFront/src/store/index.js"],"names":["Vue","Vuex","data","use","EventTypeRegistration","Store","state","nickname","user","ID","ws","undefined","onlineUsers","mutations","setNickname","payload","setUserID","setUser","setWs","setOnlineUsers","actions","commit","closeWs","getters","getWs","close","WebSocket","onmessage","event","msg","JSON","parse","console","log","getNickname","messageType","toID","getUser","nicknameMessage","fromID","body","send","stringify","getOnlineUsers","response","status","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\n\nimport { data } from './../shared/data';\n\nVue.use(Vuex);\n\nconst EventTypeRegistration = \"registration\";\n\nexport default new Vuex.Store({\n    state:{\n        nickname: \"\",\n        user: {ID: \"\", nickname: \"\"},\n        ws: undefined,\n        onlineUsers: [],\n    },\n    mutations: {\n        setNickname(state, payload){\n            state.user.nickname = payload;\n        },\n        setUserID(state, payload){\n            state.user.ID = payload;\n        },\n        setUser(state, payload){\n            state.user = payload;\n        },\n        setWs(state, payload){\n            state.ws = payload;\n        },\n        setOnlineUsers(state, payload){\n            state.onlineUsers = payload;\n        }\n    },\n    actions: {\n        setNickname(state, payload){\n            state.commit(\"setNickname\", payload);\n        },\n        closeWs({commit, getters}){\n            getters.getWs.close();\n            commit(\"setWs\", undefined);\n        },\n        setWs({commit, getters}){\n            let ws = new WebSocket(\"ws://127.0.0.1:5000/ws\");\n\n            ws.onmessage = function(event){\n                let msg = JSON.parse(event.data);\n                console.log(getters.getNickname);\n\n                if (msg.messageType === EventTypeRegistration){\n                    commit(\"setUser\", {ID: msg.toID, nickname: getters.getNickname});\n                    commit(\"setUserID\", msg.toID);\n                    console.log(getters.getUser);\n\n                    let nicknameMessage = {\n                        fromID: getters.getUser.ID,\n                        toID: \"server\",\n                        messageType: EventTypeRegistration,\n                        body: getters.getUser.nickname\n                    }\n\n                    console.log(nicknameMessage);\n                    ws.send(JSON.stringify(nicknameMessage));\n                }\n            }\n\n            commit(\"setWs\", ws);\n        },\n        async getOnlineUsers  (state)  {\n            let response = await data.getOnlineUsers();\n            if (response.status === 200){\n                state.commit(\"setOnlineUsers\", response.data);\n            }\n        }\n    },\n    modules: {},\n    getters:{\n        getNickname(state){\n            return state.user.nickname;\n        },\n        getUser(state){\n            return state.user;\n        },\n        getOnlineUsers(state){\n            return state.onlineUsers;\n        },\n        getWs(state){\n            return state.ws;\n        }\n    }\n})"]}]}